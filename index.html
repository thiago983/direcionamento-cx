<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Dimensionamento DiÃ¡rio â€“ CX</title>

<style>
body {
  margin: 0;
  padding: 24px;
  background: #f2f3f5;
  font-family: Arial, sans-serif;
  color: #2b2b2b;
}

h1 { margin-bottom: 4px; }
.subtitle { font-size: 13px; color: #666; margin-bottom: 20px; }

.container {
  display: grid;
  grid-template-columns: 1fr 3fr;
  gap: 20px;
}

/* Pessoas */
.people {
  background: #fff;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid #d9d9d9;
}

.people-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.person {
  background: #205452;
  color: #fff;
  padding: 6px;
  font-size: 12px;
  border-radius: 6px;
  text-align: center;
  cursor: grab;
  user-select: none;
}

.person.fixed {
  outline: 2px solid #ffd966;
  position: relative;
}

.person.fixed::after {
  content: "ðŸ”’";
  position: absolute;
  top: -6px;
  right: -6px;
  font-size: 12px;
}

/* Escopos */
.scopes {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.scope {
  background: #7caf94;
  border-radius: 8px;
  padding: 10px;
  color: #fff;
}

.scope h3 {
  font-size: 13px;
  margin-bottom: 6px;
}

.dropzone {
  min-height: 90px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* AÃ§Ãµes */
.actions {
  margin-top: 20px;
  display: flex;
  gap: 10px;
  align-items: center;
}

button {
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.primary { background: #205452; color: #fff; }
.secondary { background: #ddd; }

label {
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.result {
  margin-top: 20px;
  background: #fff;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid #d9d9d9;
  white-space: pre-line;
  font-size: 13px;
}
</style>
</head>

<body>

<h1>Dimensionamento DiÃ¡rio â€“ CX</h1>
<div class="subtitle">Arraste | Duplo clique fixa ðŸ”’ | Tudo fica salvo</div>

<div class="container">

<div class="people">
  <div class="people-grid" id="pool"></div>
</div>

<div class="scopes" id="scopes">
  <div class="scope"><h3>Manual WPP</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Manual Email</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Manual Chat</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Social</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Voy</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Backoffice</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>Reclame Aqui</h3><div class="dropzone"></div></div>
  <div class="scope"><h3>FÃ©rias / LicenÃ§a / Outros</h3><div class="dropzone" data-ignore="true"></div></div>
</div>

</div>

<div class="actions">
  <button class="primary" onclick="generate()">Gerar lista</button>
  <button class="secondary" onclick="resetAll()">Resetar</button>
  <label>
    <input type="checkbox" id="keepFixed">
    Manter fixos apÃ³s reset
  </label>
</div>

<div class="result" id="result"></div>

<script>
const PEOPLE = [
 "Camila Marigo","Cauane Wiggberto","Daniela Barral","Elisabete Pinho","Erick Muniz",
 "Gisele Lopes","Jenifer Alcantara","JoÃ£o Pedro Finamore","Johana Geisa","Karina Tosta",
 "Leonardo Santiago","Lorenzo Moreira","Luisa Rodrigues","Luiz Felipe Firmo","Maria Clara Periard",
 "Natanael Cruz","Rayanne Rodrigues","Samantha MarÃ§al","Jessyca Rodrigues","Rayssa MagalhÃ£es Farias",
 "Dayane da Silva Santos","Matheus AndrÃ©","Lais Rodrigues","Marianne Belmiro","HÃ©rica Oliveira",
 "Julia Prazeres","Wesley Freitas","Milena Cabral","Thariny Portela","Patricia Rodrigues",
 "Pedro Bento","Ana Luiza","Kelly Ribeiro","Nayara Marinho","Ana FlÃ¡via","Barbara Oliveira","Lucas Resende"
];

const pool = document.getElementById("pool");
let dragged = null;

function saveState() {
  const state = {
    keepFixed: document.getElementById("keepFixed").checked,
    scopes: {}
  };

  document.querySelectorAll(".scope").forEach(scope => {
    const name = scope.querySelector("h3").textContent;
    state.scopes[name] = [...scope.querySelectorAll(".person")].map(p => ({
      name: p.textContent,
      fixed: p.classList.contains("fixed")
    }));
  });

  state.pool = [...pool.querySelectorAll(".person")].map(p => ({
    name: p.textContent,
    fixed: p.classList.contains("fixed")
  }));

  localStorage.setItem("dimensionamentoCX", JSON.stringify(state));
}

function loadState() {
  const saved = localStorage.getItem("dimensionamentoCX");
  if (!saved) {
    PEOPLE.forEach(name => createPerson(name, pool));
    return;
  }

  const state = JSON.parse(saved);
  document.getElementById("keepFixed").checked = state.keepFixed;

  Object.values(state.scopes).flat().forEach(p => {
    const el = createPerson(p.name);
    if (p.fixed) el.classList.add("fixed");
  });

  document.querySelectorAll(".scope").forEach(scope => {
    const name = scope.querySelector("h3").textContent;
    const zone = scope.querySelector(".dropzone");
    (state.scopes[name] || []).forEach(p => {
      const el = createPerson(p.name, zone);
      if (p.fixed) el.classList.add("fixed");
    });
  });

  state.pool.forEach(p => {
    const el = createPerson(p.name, pool);
    if (p.fixed) el.classList.add("fixed");
  });
}

function createPerson(name, container) {
  const div = document.createElement("div");
  div.className = "person";
  div.draggable = true;
  div.textContent = name;
  div.ondragstart = () => dragged = div;
  div.ondblclick = () => {
    div.classList.toggle("fixed");
    saveState();
  };
  if (container) container.appendChild(div);
  return div;
}

document.querySelectorAll(".dropzone, #pool").forEach(zone => {
  zone.ondragover = e => e.preventDefault();
  zone.ondrop = () => {
    if (dragged) {
      zone.appendChild(dragged);
      saveState();
    }
  };
});

function resetAll() {
  const keep = document.getElementById("keepFixed").checked;
  document.querySelectorAll(".dropzone").forEach(zone => {
    [...zone.children].forEach(p => {
      if (!(keep && p.classList.contains("fixed"))) {
        pool.appendChild(p);
      }
    });
  });
  saveState();
}

function generate() {
  let out = "";
  document.querySelectorAll(".scope").forEach(scope => {
    const zone = scope.querySelector(".dropzone");
    if (zone.dataset.ignore) return;
    const names = [...zone.children].map(p => p.textContent);
    if (!names.length) return;
    out += scope.querySelector("h3").textContent + "\n";
    names.forEach(n => out += n + "\n");
    out += "\n";
  });
  document.getElementById("result").textContent = out;
  saveState();
}

document.getElementById("keepFixed").onchange = saveState;

loadState();
</script>

</body>
</html>





